\newpage
\section{Discussion}

Gadgets by nature are just embedded interactuable applications, decoupled from the context they are in. With increasing computing power, even in mobile devices, the big difference \cite{ref:javascript_slow} in power needed to complete a task between JavaScript and other native languages starts getting neglegible. GWT achieves high compatibility with all different browsers, and with the help of different APIs can be a very good tool for creating gadgets in situations where the concept of the gadget makes sense. The only limitation is it is not possible to get outside of the gadget apart from what the API provides.\\[.2cm]
Gadgets are a relatively easy way to extend Wave, as no actual knowledge of Wave's codebase is needed to do so. But still the Gadgets API is far from perfect, and requires the developer to repeat tasks for every gadget made. Also, there will be sometimes version compatibility problems, project configuration problems, classpath errors, and the messages given by the GWT compiler are not informative enough. Many steps need to be followed to get things working.\\[.2cm]
Also, even though the Gadgets API is a Java API, the fact that it generates JavaScript code means troubleshooting is sometimes needed in the JavaScript layer, so JavaScript knowledge is also needed, and computer generated code can sometimes not be easy to follow and understand.\\[.2cm]
There is a lot of work that can be done to Wave, and the wave protocol has a lot of potential. Apache took control of the project, but the development from their part is slow and very conservative, so there is actually a lack of work from part of a big player. The most work is now being done by the p2pvalue project and Kune, but when pushing changes to the Apache repository they are not always accepted.\\[.2cm]
Wave is in need of features, and some of the ones done here can be considered essential:
\begin{itemize}
  \item Colorizer Robot: Wave, thanks to the federation protocol and the deltas, is able to keep track of all the history of the modifications in the document. Also because of deltas, changes can be attributed to a participant with little overhead, as opposed to calculating the difference every time a change is made. With past states it would be possible to reliably go back in history and review what happened. Implementing this feature at a protocol level would definitely be advantageous.
  \item Robots: Maybe gadgets and robots are not user-friendly enough. If a user is interested in one of the features a robot can provide, maybe he is not interested in adding an unknown user to his wave that he wants to keep private.
  \item Gadgets: There is no way of seeing all of the gadgets that are available. If a gadget is not added to the list of gadgets, you need to know the exact URL of the gadget to use it, that means having to know the gadget beforehand. There are, too, many options when trying to choose a gadget, and you need to test them to see if they are the ones needed.
\end{itemize}
When developing the Decision Maker Gadget, because of its slightly complex state storing structure, it was clear that the way of storing state as key-value pairs is too limiting. Storing complex values as strings means you have to create a special format depending on the nature of the object to store, storing lists means having to use a character as a separator of the elements rendering that character unable to be used inside the elements themselves. A good solution for this would be to make a serializer library that generates XML or JSON documents representing the structure an value of objects, and submits and retrieves values from Wave's state in an easy way.

\newpage
\addcontentsline{toc}{section}{\numberline{}Bibliography}
